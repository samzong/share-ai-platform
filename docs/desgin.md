# Desgin 设计文档

## 1. 产品概述

- 产品名称: 开源数据市场平台 (暂定)
- 产品定位: 为企业提供便捷的开源数据资源管理和分享平台，通过开源社区的力量促进数据资产的流通和复用。
- 核心价值:
    - 降低企业构建数据市场的门槛
    - 促进企业内部数据资产的流通和复用
    - 通过开源社区的力量，不断丰富数据资源
    - 企业版本提供灵活的权限控制和组织管理

2. 目标用户

- 开源版本: 对开源数据资源感兴趣的开发者和小型团队。
- 企业版本: 有构建私有数据市场需求的大型企业部门。

3. 功能需求

- 核心功能
    - 镜像管理:
        - 镜像列表展示 (支持搜索、筛选、排序)
        - 镜像详情展示 (读取 README.md 并渲染、展示作者、收藏量、部署量、创建/更新时间、描述、使用方法、参数、输出等信息)
        - 镜像收藏 (用户管理自己的收藏夹)
    - 部署功能:
        - 一键部署实例 (支持多平台，通过 Provider 注册机制)
    - 用户管理:
        - 用户注册和登录
        - 用户收藏夹管理
        - 企业版本:
            - 支持企业组织 (org) 管理
            - 支持项目 (project) 管理 (public/private/require access)
            - 支持分类 (catagories) 管理
            - 支持组 (group) 管理，实现多部门协作
    - 开源社区:
        - 支持用户通过 PR 的形式贡献镜像 (标准化添加)
        - 热门 Tag 和最新 Tag 展示
- 版本差异
    - 开源版本:
        - 公共空间，所有资源均在 `public org` 下
        - 只读模式 (无法添加和管理镜像，仅限浏览)
        - 基础功能
    - 企业版本:
        - 私有空间，支持创建多个企业 `org`
        - 支持企业内部的用户和组管理
        - 支持添加和管理企业私有的镜像
        - 提供更强大的权限控制、组织结构管理、专业技术支持
            - 专业技术支持: 短期提供部署和使用技术支持，后期可扩展至定制镜像、模型微调、私有数据集制作等。

4. 技术需求

- 前端: (待定，例如 React/Vue)
- 后端: (待定，例如 Node.js/Python)
- 数据库:
    - Redis (缓存搜索和用户信息)
    - (待定) 存储镜像元数据 (需要研发团队提供数据库选型建议)
- 部署:
    - 支持一键部署到 Vercel 等平台
    - 支持多平台部署 (通过 Provider 注册机制，需要定义统一的 API 规范，并留有自动空间)
- 其他:
    - 镜像的元数据存储结构 (需要研发团队提供方案)
    - 需要定义 Provider 注册机制的 API 规范
    - 镜像信息采用标准化的 JSON Schema 添加方式 (需要定义具体的 Schema)，通过 PR 代码形式保存，构建项目时生成 DB 信息，默认保存到 `public org` 下

5. 交互设计需求

- 镜像列表:
    - 卡片式展示，包含名称、描述、收藏量、作者等信息
    - 支持搜索、筛选 (按 Tag、平台等)
    - 支持排序 (收藏量、部署量、创建时间)
- 镜像详情:
    - 读取 README.md 并渲染
    - 展示详细信息，包括作者、收藏量、部署量、创建/更新时间、描述、使用方法、参数、输出等
    - 一键部署按钮
    - 收藏按钮

6. 非功能性需求

- 性能: 高效的搜索和加载速度
- 安全: 用户数据保护，权限控制
- 可扩展性: 方便后续功能扩展
- 易用性: 用户界面友好，操作简单

7. 待解决的问题 (需要研发团队提供方案)

- 镜像元数据存储结构和持久化数据库选型
- Provider 注册机制的具体实现方式和 API 规范
- 标准化添加方式的具体 JSON Schema
- PR 提交的镜像信息质量保证机制 (短期通过人工审核保障)

8. 当前阶段目标

- 短期: 构建一个功能完善的开源项目，支持基本的镜像管理、部署功能和 PR 贡献机制。
- 长期: 在开源版本基础上，逐步开发企业版本功能，提供更强大的权限控制、组织管理和专业技术支持。